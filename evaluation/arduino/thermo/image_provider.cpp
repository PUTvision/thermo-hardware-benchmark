/* Copyright 2019 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
==============================================================================*/

#include "image_provider.h"


TfLiteStatus GetImage(tflite::ErrorReporter* error_reporter, int frame_width,
                      int frame_height, int channels, TfLiteTensor* input) {
    if (input->params.zero_point == 0 && input->params.scale == 0.0){
        for (size_t i = 0; i < frame_width*frame_height*channels; i++){
            input->data.f[i] = x[i];
        }
    }
    else {
        for (size_t i = 0; i < frame_width*frame_height*channels; i++){
            input->data.int8[i] = x[i] / input->params.scale + input->params.zero_point;
        }
    }

    return kTfLiteOk;
}

const float x[kMaxImageSize] = {
       0.42      , 0.36      , 0.308     , 0.288     , 0.264     ,
       0.27533333, 0.268     , 0.24466667, 0.26533333, 0.27466667,
       0.25933333, 0.264     , 0.284     , 0.25933333, 0.27333333,
       0.27666667, 0.27733333, 0.26066667, 0.28666667, 0.308     ,
       0.30466667, 0.31533333, 0.324     , 0.29      , 0.30266667,
       0.31733333, 0.34466667, 0.30266667, 0.308     , 0.29933333,
       0.30933333, 0.31466667, 0.32933333, 0.352     , 0.30466667,
       0.33533333, 0.28066667, 0.28866667, 0.24933333, 0.28933333,
       0.27466667, 0.28      , 0.26733333, 0.28733333, 0.27666667,
       0.29466667, 0.276     , 0.28      , 0.288     , 0.28533333,
       0.28333333, 0.31266667, 0.31066667, 0.33933333, 0.33333333,
       0.34733333, 0.29933333, 0.33      , 0.31066667, 0.332     ,
       0.35733333, 0.36466667, 0.32      , 0.33733333, 0.37      ,
       0.33933333, 0.4       , 0.412     , 0.29466667, 0.236     ,
       0.25933333, 0.26266667, 0.278     , 0.252     , 0.28866667,
       0.26      , 0.284     , 0.27866667, 0.288     , 0.26866667,
       0.288     , 0.264     , 0.292     , 0.3       , 0.44666667,
       0.49333333, 0.494     , 0.48466667, 0.37666667, 0.35133333,
       0.35333333, 0.332     , 0.36133333, 0.326     , 0.34733333,
       0.39133333, 0.368     , 0.39333333, 0.41866667, 0.40266667,
       0.27066667, 0.29133333, 0.26666667, 0.282     , 0.26133333,
       0.26933333, 0.294     , 0.29733333, 0.28666667, 0.30066667,
       0.308     , 0.29      , 0.27466667, 0.286     , 0.27666667,
       0.302     , 0.534     , 0.57      , 0.56266667, 0.548     ,
       0.37933333, 0.38333333, 0.34133333, 0.358     , 0.34133333,
       0.37866667, 0.366     , 0.31066667, 0.40533333, 0.40733333,
       0.48      , 0.344     , 0.324     , 0.302     , 0.27      ,
       0.27      , 0.28333333, 0.28733333, 0.27333333, 0.29133333,
       0.304     , 0.28266667, 0.28133333, 0.27533333, 0.29866667,
       0.292     , 0.29266667, 0.318     , 0.54933333, 0.58066667,
       0.56933333, 0.534     , 0.46266667, 0.45466667, 0.38866667,
       0.36866667, 0.35      , 0.34533333, 0.34066667, 0.35      ,
       0.37733333, 0.40533333, 0.36866667, 0.33333333, 0.31933333,
       0.33533333, 0.28666667, 0.27533333, 0.29533333, 0.29133333,
       0.276     , 0.29066667, 0.27733333, 0.27933333, 0.28333333,
       0.296     , 0.28266667, 0.28333333, 0.28066667, 0.32333333,
       0.534     , 0.556     , 0.54133333, 0.526     , 0.46533333,
       0.54266667, 0.42733333, 0.39066667, 0.338     , 0.38533333,
       0.32      , 0.35133333, 0.41533333, 0.38133333, 0.32066667,
       0.30066667, 0.36266667, 0.312     , 0.316     , 0.3       ,
       0.312     , 0.286     , 0.27266667, 0.29266667, 0.282     ,
       0.278     , 0.28666667, 0.288     , 0.286     , 0.30666667,
       0.29333333, 0.29933333, 0.438     , 0.52133333, 0.54266667,
       0.48933333, 0.46      , 0.51266667, 0.40933333, 0.35533333,
       0.35866667, 0.33733333, 0.29866667, 0.318     , 0.412     ,
       0.45466667, 0.32466667, 0.33066667, 0.366     , 0.34466667,
       0.29333333, 0.342     , 0.28333333, 0.34533333, 0.278     ,
       0.274     , 0.29933333, 0.27866667, 0.29      , 0.29933333,
       0.28866667, 0.302     , 0.30066667, 0.316     , 0.41133333,
       0.47266667, 0.48866667, 0.40266667, 0.406     , 0.42266667,
       0.36466667, 0.34733333, 0.31666667, 0.304     , 0.29933333,
       0.35333333, 0.436     , 0.442     , 0.32933333, 0.36066667,
       0.35466667, 0.316     , 0.364     , 0.36      , 0.47733333,
       0.38533333, 0.42666667, 0.278     , 0.284     , 0.28533333,
       0.292     , 0.286     , 0.29533333, 0.308     , 0.30533333,
       0.308     , 0.33933333, 0.34333333, 0.344     , 0.32733333,
       0.30266667, 0.30066667, 0.29933333, 0.30533333, 0.30866667,
       0.312     , 0.33      , 0.32266667, 0.454     , 0.488     ,
       0.33866667, 0.338     , 0.36      , 0.356     , 0.40333333,
       0.474     , 0.47466667, 0.594     , 0.36533333, 0.40333333,
       0.284     , 0.296     , 0.30666667, 0.29933333, 0.30533333,
       0.31066667, 0.308     , 0.31733333, 0.282     , 0.30266667,
       0.27533333, 0.28533333, 0.3       , 0.30333333, 0.31133333,
       0.29866667, 0.31133333, 0.302     , 0.286     , 0.34533333,
       0.44133333, 0.48533333, 0.35333333, 0.362     , 0.386     ,
       0.37      , 0.42733333, 0.496     , 0.56666667, 0.60466667,
       0.51333333, 0.364     , 0.31733333, 0.29133333, 0.31866667,
       0.314     , 0.314     , 0.312     , 0.32133333, 0.29466667,
       0.27866667, 0.25866667, 0.278     , 0.29466667, 0.31866667,
       0.318     , 0.30066667, 0.29533333, 0.31666667, 0.29      ,
       0.34466667, 0.308     , 0.42066667, 0.49333333, 0.38133333,
       0.39533333, 0.362     , 0.36133333, 0.49266667, 0.486     ,
       0.568     , 0.54466667, 0.46133333, 0.426     , 0.32066667,
       0.32333333, 0.29933333, 0.30466667, 0.31733333, 0.31266667,
       0.29533333, 0.288     , 0.264     , 0.27266667, 0.27066667,
       0.30733333, 0.306     , 0.31466667, 0.31466667, 0.28533333,
       0.292     , 0.29333333, 0.31      , 0.34266667, 0.38733333,
       0.38066667, 0.37266667, 0.38266667, 0.35133333, 0.38533333,
       0.44333333, 0.52266667, 0.52133333, 0.532     , 0.38866667,
       0.396     , 0.324     , 0.32666667, 0.29666667, 0.30933333,
       0.322     , 0.30333333, 0.30133333, 0.296     , 0.29      ,
       0.288     , 0.296     , 0.30066667, 0.31866667, 0.288     ,
       0.30866667, 0.32333333, 0.31666667, 0.30333333, 0.31933333,
       0.31533333, 0.39      , 0.37133333, 0.35733333, 0.37333333,
       0.35933333, 0.358     , 0.43933333, 0.38933333, 0.554     ,
       0.46933333, 0.39066667, 0.32466667, 0.33      , 0.326     ,
       0.306     , 0.33066667, 0.31333333, 0.32666667, 0.31066667,
       0.308     , 0.286     , 0.29733333, 0.30333333, 0.30066667,
       0.30133333, 0.30466667, 0.29466667, 0.32066667, 0.30866667,
       0.30866667, 0.31133333, 0.32466667, 0.364     , 0.33666667,
       0.346     , 0.33933333, 0.34266667, 0.34466667, 0.346     ,
       0.382     , 0.41133333, 0.38133333, 0.348     , 0.35533333,
       0.338     , 0.322     , 0.34133333, 0.328     , 0.34333333,
       0.316     , 0.32866667, 0.32333333, 0.348     , 0.31533333,
       0.32933333, 0.31      , 0.33133333, 0.30866667, 0.32333333,
       0.31333333, 0.31133333, 0.318     , 0.31266667, 0.34466667,
       0.32533333, 0.384     , 0.36      , 0.35666667, 0.35933333,
       0.35533333, 0.37866667, 0.36466667, 0.388     , 0.36933333,
       0.34866667, 0.36      , 0.33266667, 0.34466667, 0.336     ,
       0.35066667, 0.33666667, 0.342     , 0.34466667, 0.32733333,
       0.33266667, 0.35733333, 0.33066667, 0.34333333, 0.32666667,
       0.32066667, 0.308     , 0.33133333, 0.298     , 0.334     ,
       0.30266667, 0.35266667, 0.438     , 0.38666667, 0.404     ,
       0.36933333, 0.49733333, 0.44933333, 0.38333333, 0.368     ,
       0.34066667, 0.342     , 0.352     , 0.36666667, 0.354     ,
       0.362     , 0.34333333, 0.366     , 0.35333333, 0.34266667,
       0.332     , 0.334     , 0.352     , 0.33533333, 0.336     ,
       0.33133333, 0.33666667, 0.32866667, 0.33666667, 0.31      ,
       0.31266667, 0.304     , 0.34333333, 0.36      , 0.45866667,
       0.448     , 0.392     , 0.40733333, 0.508     , 0.494     ,
       0.36933333, 0.37133333, 0.36533333, 0.358     , 0.36333333,
       0.36266667, 0.376     , 0.37466667, 0.37466667, 0.37      ,
       0.34133333, 0.35466667, 0.302     , 0.33      , 0.34066667,
       0.34866667, 0.34666667, 0.346     , 0.33133333, 0.33266667,
       0.332     , 0.32533333, 0.31933333, 0.336     , 0.332     ,
       0.34533333, 0.47333333, 0.45133333, 0.46266667, 0.456     ,
       0.602     , 0.56666667, 0.41133333, 0.348     , 0.38133333,
       0.35733333, 0.37933333, 0.38      , 0.37466667, 0.37466667,
       0.406     , 0.38266667, 0.36533333, 0.348     , 0.32866667,
       0.31533333, 0.33066667, 0.34466667, 0.36533333, 0.356     ,
       0.36      , 0.35      , 0.31866667, 0.32866667, 0.34666667,
       0.308     , 0.35533333, 0.336     , 0.45866667, 0.48933333,
       0.506     , 0.55933333, 0.618     , 0.58533333, 0.38133333,
       0.39      , 0.35866667, 0.378     , 0.366     , 0.36066667,
       0.388     , 0.38333333, 0.41066667, 0.39      , 0.36333333,
       0.35333333, 0.308     , 0.32      , 0.34533333, 0.36333333,
       0.336     , 0.37      , 0.32733333, 0.35933333, 0.334     ,
       0.33266667, 0.34466667, 0.35      , 0.30533333, 0.32      ,
       0.50933333, 0.47266667, 0.47866667, 0.53066667, 0.52933333,
       0.47466667, 0.354     , 0.368     , 0.412     , 0.364     ,
       0.368     , 0.37666667, 0.38      , 0.39466667, 0.39866667,
       0.386     , 0.38133333, 0.34466667, 0.312     , 0.34733333,
       0.38733333, 0.35733333, 0.35066667, 0.34466667, 0.35066667,
       0.314     , 0.32666667, 0.31      , 0.33666667, 0.31266667,
       0.32533333, 0.33066667, 0.46066667, 0.508     , 0.49133333,
       0.50266667, 0.452     , 0.442     , 0.39466667, 0.40866667,
       0.37933333, 0.402     , 0.39266667, 0.37333333, 0.36333333,
       0.37933333, 0.39133333, 0.37666667, 0.36533333, 0.36066667,
       0.30533333, 0.336     , 0.37133333, 0.37466667, 0.35466667,
       0.33133333, 0.33266667, 0.33666667, 0.32933333, 0.34533333,
       0.32933333, 0.346     , 0.33333333, 0.37666667, 0.48466667,
       0.38933333, 0.44066667, 0.44466667, 0.472     , 0.39533333,
       0.37866667, 0.36533333, 0.39      , 0.36866667, 0.40266667,
       0.38266667, 0.40333333, 0.364     , 0.37666667, 0.35933333,
       0.38133333, 0.37333333, 0.38866667, 0.38466667, 0.40133333,
       0.41533333, 0.34133333, 0.354     , 0.366     , 0.354     ,
       0.35466667, 0.352     , 0.35266667, 0.368     , 0.374     ,
       0.39466667, 0.50266667, 0.49533333, 0.466     , 0.48666667,
       0.44466667, 0.416     , 0.40533333, 0.41066667, 0.37333333,
       0.35466667, 0.36      , 0.372     , 0.354     , 0.368     ,
       0.37333333, 0.378     , 0.33933333, 0.35866667, 0.382     ,
       0.416     , 0.38533333, 0.39466667, 0.38266667, 0.396     ,
       0.33866667, 0.362     , 0.33      , 0.37533333, 0.34866667,
       0.362     , 0.35533333, 0.37933333};
